# data parallelism
- problem is usually that there is a lot of data to process
- but each individual data point can be processed independently
- there's also task parallelism, which is exposed through task decomposition of apps
- vector addition and matrix-vector multiply
- can the tasks be done independently?
# cuda c program structure
- there is a host (CPU) and devices (GPUs)
- exec starts with host code
- when kernel function called, large number of threads launched on device to execute kernel
- thread is a simplified view of how a processor executes sequential program
- consists of:
	- code of program
	- point in code being executed (PC)
	- vals of variables, data structures
- thread execution is effectively sequential
# vector addition kernel
- function that mutates via pointer
- how to parallelize? move calculations to device
	- allocate mem for a, b, c
	- copy a and b to device mem
	- call kernel to do computation
	- copy c from device mem
	- free device vectors
- two API functions for allocating and freeing device global mem
	- `cudaMalloc`: allocate piece of device global mem for object
		- address of pointer variable that should be set to point to allocated object
		- should be cast to (void \*\*) because function expects generic pointer
		- malloc is generic function, not restricted to any particular type of objects
		- this way, `cudaMalloc` can write the address of the allocated memory into provided pointer var, regardless of type
		- host code that calls kernels passes this pointer value to the kernels that need to access the mem object
		- second param gives size of the data to be allocated, in # bytes -- this is consistent with size param to C malloc fcn
		- address passed in is mutated
	- `cudaFree` called with same pointer, to free storage space for A vector from device's global mem
		- this value is not modified, only read in order to return allocated mem back to available pool
		- value, not address
- addresses should not be dereferenced in host code
	- this can cause exceptions, accessing memory not assigned to you technically
- 